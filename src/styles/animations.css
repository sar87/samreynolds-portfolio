/**
 * Animation Utilities - Scroll Reveals, Gradient Text, and Hover Effects
 *
 * Linear-style motion design: clean, professional, subtle
 * All animations respect prefers-reduced-motion for accessibility
 */

/* ==========================================================================
   Scroll Reveal Base Classes
   ========================================================================== */

/**
 * Base scroll reveal - fades in from below
 * Add .scroll-reveal to any element you want to animate on scroll
 */
.scroll-reveal {
  opacity: 0;
  transform: translateY(20px);
  transition:
    opacity var(--animation-duration-reveal) var(--animation-easing-out),
    transform var(--animation-duration-reveal) var(--animation-easing-out);
}

/**
 * Directional variants - slide from left or right
 * Used for alternating section reveals
 */
.scroll-reveal-left,
[data-slide-from="left"] {
  opacity: 0;
  transform: translateX(-40px);
  transition:
    opacity var(--animation-duration-reveal) var(--animation-easing-out),
    transform var(--animation-duration-reveal) var(--animation-easing-out);
}

.scroll-reveal-right,
[data-slide-from="right"] {
  opacity: 0;
  transform: translateX(40px);
  transition:
    opacity var(--animation-duration-reveal) var(--animation-easing-out),
    transform var(--animation-duration-reveal) var(--animation-easing-out);
}

/**
 * Revealed state - applied when element enters viewport
 * Works for all scroll-reveal variants
 */
.revealed {
  opacity: 1;
  transform: translate(0);
}

/* ==========================================================================
   Staggered Animation Support
   ========================================================================== */

/**
 * Staggered cards use --animation-order CSS custom property
 * Set via JavaScript: card.style.setProperty('--animation-order', index)
 * Delay is calculated using calc() for infinite scalability
 */
.scroll-reveal[style*="--animation-order"],
[data-stagger] .scroll-reveal {
  transition-delay: calc(var(--animation-order, 0) * var(--stagger-delay));
}

/* ==========================================================================
   Gradient Text Animation
   ========================================================================== */

/**
 * Animated gradient text effect for headings
 * Colors flow smoothly from dark to accent and back
 */
.gradient-text {
  /* Set up gradient background - 300% width for smooth animation */
  background: linear-gradient(
    90deg,
    var(--gradient-start),
    var(--gradient-mid),
    var(--gradient-end),
    var(--gradient-mid),
    var(--gradient-start)
  ) 0 0 / 300% 100%;

  /* Clip background to text */
  color: transparent;
  background-clip: text;
  -webkit-background-clip: text;
}

/* ==========================================================================
   Keyframes Definitions
   ========================================================================== */

@keyframes gradient-shift {
  0%, 100% {
    background-position: 0% 0;
  }
  50% {
    background-position: 100% 0;
  }
}

/* ==========================================================================
   Motion-Safe Animations
   Only apply animations when user has no motion preference
   ========================================================================== */

@media (prefers-reduced-motion: no-preference) {
  .gradient-text {
    animation: gradient-shift 6s ease-in-out infinite;
  }
}

/* ==========================================================================
   Reduced Motion Fallbacks
   Instant visibility, no transforms for motion-sensitive users
   ========================================================================== */

@media (prefers-reduced-motion: reduce) {
  .scroll-reveal,
  .scroll-reveal-left,
  .scroll-reveal-right,
  [data-slide-from="left"],
  [data-slide-from="right"] {
    opacity: 1;
    transform: none;
    transition: none;
  }

  .revealed {
    /* Already visible, ensure no residual transitions */
    transition: none;
  }

  .gradient-text {
    /* Static gradient, no animation */
    animation: none;
    background-position: 50% 0;
  }
}
