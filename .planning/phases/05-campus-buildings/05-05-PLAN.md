---
phase: 05-campus-buildings
plan: 05
type: execute
wave: 3
depends_on: ["05-03"]
files_modified:
  - js/game/world.js
  - js/game/sprites.js
  - js/game/buildings.js
autonomous: true

must_haves:
  truths:
    - "Player can enter Lab and see zoology theme with computers"
    - "Player can enter TV Station and see broadcast-themed interior"
    - "Player can enter Theatre and see lecture/stage setup"
    - "All three interiors have clear exit points"
    - "Lab has nature imagery and specimens"
  artifacts:
    - path: "js/game/world.js"
      provides: "Lab, Station, and Theatre interior generation"
      contains: "generateLabInterior|generateStationInterior|generateTheatreInterior"
    - path: "js/game/sprites.js"
      provides: "Tavern-repurposed sprites for Station/Theatre"
      contains: "microphone|stage|curtain"
  key_links:
    - from: "js/game/world.js"
      to: "World.interiorMaps"
      via: "Interior maps stored by building ID"
      pattern: "interiorMaps\\.lab|interiorMaps\\.station|interiorMaps\\.theatre"
---

<objective>
Create interior maps for Research Lab, TV Station, and Lecture Theatre.

Purpose: Implement remaining three building interiors per CONTEXT.md (zoology Lab, tavern-asset Station/Theatre).
Output: world.js with Lab, Station, Theatre interiors; sprites.js with any new interior sprites.
</objective>

<execution_context>
@/home/sam/.claude/get-shit-done/workflows/execute-plan.md
@/home/sam/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/phases/05-campus-buildings/05-CONTEXT.md
@.planning/phases/05-campus-buildings/05-03-SUMMARY.md
@js/game/world.js
@js/game/sprites.js
@js/game/buildings.js
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add interior-specific sprites</name>
  <files>js/game/sprites.js, js/game/world.js</files>
  <action>
Add new interior sprites in createInteriorSprites() for themed interiors:

For Lab (zoology theme):
1. specimen - Glass jar with preserved specimen (blues/greens)
   - Jar shape with liquid and small creature/plant inside
2. microscope - Lab microscope
   - Black/silver equipment on stand
3. plant - Potted plant for nature imagery
   - Green plant in brown pot
4. animalPoster - Framed animal picture (simple)
   - Frame with nature scene inside

For Station/Theatre (tavern repurposing per CONTEXT.md):
5. controlDesk - Broadcasting control desk (tavern counter repurposed)
   - Counter/desk with equipment on top
   - Buttons/sliders suggested
6. microphone - Standing microphone
   - Mic on stand, simple shape
7. screen - Large display/screen (tavern banner repurposed)
   - Rectangular display, blue tint
8. stageCurtain - Stage curtain (red)
   - Red fabric with folds suggested
9. spotlight - Stage/studio light
   - Lamp pointing down

Add to World.TILES:
```javascript
SPECIMEN: 60,
MICROSCOPE: 61,
PLANT: 62,
ANIMAL_POSTER: 63,
CONTROL_DESK: 64,
MICROPHONE: 65,
SCREEN: 66,
STAGE_CURTAIN: 67,
SPOTLIGHT: 68,
```

Update getTileSprite() for all new tiles.
  </action>
  <verify>
In console:
- Sprites.get('specimen') returns canvas
- Sprites.get('microphone') returns canvas
- Sprites.get('stageCurtain') returns canvas
- World.TILES.SPECIMEN === 60
- World.getTileSprite(60) === 'specimen'
  </verify>
  <done>9 new interior sprites created for Lab and Station/Theatre themes, tile types defined</done>
</task>

<task type="auto">
  <name>Task 2: Create Research Lab interior (zoology + computers)</name>
  <files>js/game/world.js</files>
  <action>
Update generateLabInterior() for zoology theme per CONTEXT.md:

Dimensions: 18x12 tiles

Layout theme: "Zoology theme mixed with modern computers" - nature specimens, animal imagery, computer workstations

Required elements:
1. Perimeter walls with INT_WALL and collision

2. Lab bench area (top section):
   - BENCH tiles along top wall
   - SPECIMEN jars on benches (decorative, with interaction)
   - MICROSCOPE on one bench section
   - Interaction: { type: 'research', index: 0 } for specimens

3. Computer workstations (middle area):
   - 2-3 DESK + COMPUTER clusters
   - Modern equipment for data analysis
   - Interaction: { type: 'research', index: 1 } for computer work

4. Nature/zoology displays (walls):
   - ANIMAL_POSTER tiles on walls (framed pictures)
   - PLANT tiles in corners for greenery
   - Creates "nature meets technology" aesthetic

5. Central whiteboard/display area:
   - BOOKSHELF repurposed as whiteboard (existing pattern)
   - Or use SCREEN tile for data display
   - Interaction: { type: 'object', id: 'whiteboard', content: 'lab.projects' }

6. Exit at bottom center with clear path

Return proper interior object structure.
Register: this.interiorMaps.lab = this.generateLabInterior();
  </action>
  <verify>
Enter Lab in game:
- Specimen jars visible on benches
- Computer workstations present
- Nature elements (plants, posters) visible
- Feels like zoology lab meets computer lab
- Can exit properly
  </verify>
  <done>Lab interior created with zoology theme (specimens, nature imagery) combined with computer workstations</done>
</task>

<task type="auto">
  <name>Task 3: Create TV Station and Theatre interiors</name>
  <files>js/game/world.js, js/game/buildings.js</files>
  <action>
Create generateStationInterior() for TV Station (media appearances):

Dimensions: 14x10 tiles

Layout: Broadcast studio feel using tavern-repurposed assets
- CONTROL_DESK as broadcasting console (top area)
- SCREEN tiles as monitors/displays on wall
- MICROPHONE for interview setup
- SPOTLIGHT for studio lighting
- CHAIR for seating
- Interaction zones: { type: 'media', index: N } for different media items

Create generateTheatreInterior() for Lecture Theatre (talks):

Dimensions: 16x12 tiles

Layout: Lecture hall/stage setup
- STAGE_CURTAIN along top (stage area)
- PODIUM at center stage for speaker
- SCREEN behind podium (presentation display)
- Rows of CHAIR for audience seating (4-5 rows)
- SPOTLIGHT above stage area
- Interaction zones: { type: 'talks', index: N } at podium and seats

Note: May need to add 'talks' interaction type handling in Buildings.js or map to existing 'media' type.

Register both interiors:
```javascript
this.interiorMaps.station = this.generateStationInterior();
this.interiorMaps.theatre = this.generateTheatreInterior();
```

Update Buildings.getWelcomeMessage() if not already done for station and theatre.

Add or update interaction handlers in Buildings.js if needed:
- showTalksContent() for theatre (similar to showMediaContent)
- Or reuse existing media handler for both
  </action>
  <verify>
Enter TV Station:
- Studio setup visible with desk, microphones, screens
- Can interact and see media content
- Can exit properly

Enter Theatre:
- Stage with curtain and podium visible
- Audience seating rows visible
- Can interact and see talks content
- Can exit properly
  </verify>
  <done>Station interior (broadcast studio) and Theatre interior (lecture hall) created with appropriate themes and interaction zones</done>
</task>

</tasks>

<verification>
- Can enter Lab from campus, see zoology + computer theme
- Lab has specimens, microscopes, plants, computers
- Can interact with Lab objects to see research content
- Can enter Station from campus, see broadcast studio theme
- Station has control desk, microphones, screens
- Can interact with Station objects to see media content
- Can enter Theatre from campus, see lecture hall theme
- Theatre has stage, podium, curtain, seating
- Can interact with Theatre objects to see talks content
- All three buildings have working exits back to campus
</verification>

<success_criteria>
- 9 new interior sprites created (specimen, microscope, plant, animalPoster, controlDesk, microphone, screen, stageCurtain, spotlight)
- generateLabInterior() creates zoology + computer themed space
- generateStationInterior() creates broadcast studio themed space
- generateTheatreInterior() creates lecture hall themed space
- All interaction zones wired to appropriate content types
- All three interiors have working exits
- Welcome messages display correctly for all three buildings
</success_criteria>

<output>
After completion, create `.planning/phases/05-campus-buildings/05-05-SUMMARY.md`
</output>
