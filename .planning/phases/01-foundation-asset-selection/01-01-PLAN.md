---
phase: 01-foundation-asset-selection
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - package.json
  - vite.config.ts
  - tsconfig.json
  - src/main.ts
  - index.html
  - assets/sprites/terrain/grass.png
  - assets/sprites/terrain/paths.png
  - assets/sprites/terrain/water/water.png
  - assets/sprites/buildings/exteriors/castle-pack/
  - assets/sprites/buildings/interiors/library/
  - assets/sprites/buildings/interiors/lab/
  - assets/sprites/buildings/interiors/theatre/
  - assets/sprites/buildings/interiors/college/
  - assets/sprites/buildings/interiors/station/
  - assets/sprites/characters/player.png
  - assets/ATTRIBUTION.md
  - assets/CREDITS.txt
autonomous: true

must_haves:
  truths:
    - "npm run dev starts a local development server"
    - "LPC sprite assets are downloaded and organized by category"
    - "Player avatar sprite exists with blonde hair academic appearance"
    - "Attribution file lists all asset sources with licenses"
  artifacts:
    - path: "package.json"
      provides: "Project dependencies and scripts"
      contains: "vite"
    - path: "vite.config.ts"
      provides: "Vite configuration"
      contains: "defineConfig"
    - path: "assets/sprites/characters/player.png"
      provides: "Player character sprite sheet"
    - path: "assets/ATTRIBUTION.md"
      provides: "Human-readable asset credits"
      contains: "CC-BY-SA"
    - path: "assets/CREDITS.txt"
      provides: "OpenGameArt format credits"
  key_links:
    - from: "package.json"
      to: "npm run dev"
      via: "scripts.dev"
      pattern: "vite"
---

<objective>
Set up Vite + TypeScript development environment and collect all LPC sprite assets with proper attribution.

Purpose: Establish the foundation for all subsequent development - a working build system and legally-verified visual assets.
Output: Working dev server, organized sprite assets, complete attribution documentation.
</objective>

<execution_context>
@/home/sam/.claude/get-shit-done/workflows/execute-plan.md
@/home/sam/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/01-foundation-asset-selection/01-RESEARCH.md
@.planning/phases/01-foundation-asset-selection/01-CONTEXT.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Initialize Vite + TypeScript Project</name>
  <files>
    package.json
    vite.config.ts
    tsconfig.json
    src/main.ts
    index.html
  </files>
  <action>
Create a new Vite project with vanilla TypeScript template in the current directory (preserving existing files):

1. Run: `npm create vite@latest . -- --template vanilla-ts` (use `.` for current directory, accept prompts to use existing)
2. Run: `npm install`
3. Update `index.html` to include a canvas element for the game:
   - Add `<canvas id="game-canvas"></canvas>` in body
   - Keep the default Vite setup working
4. Update `src/main.ts` with a minimal test:
   - Get canvas context
   - Draw a simple rectangle to verify canvas works
   - Log "Dev environment ready" to console
5. Run `npm run dev` to verify the dev server starts

Do NOT migrate existing js/game/* files yet - that's Phase 4 work. This phase just establishes the environment.

Vite version should be 7.x per research. TypeScript 5.x.
  </action>
  <verify>
    - `npm run dev` starts server on localhost (typically port 5173)
    - Browser shows the canvas with test rectangle
    - Console shows "Dev environment ready"
    - `npm run build` succeeds without errors
  </verify>
  <done>
    - package.json exists with vite and typescript dependencies
    - Dev server runs successfully
    - Build command works
  </done>
</task>

<task type="auto">
  <name>Task 2: Download and Organize LPC Sprite Assets</name>
  <files>
    assets/sprites/terrain/grass.png
    assets/sprites/terrain/paths.png
    assets/sprites/terrain/water/water.png
    assets/sprites/buildings/exteriors/castle-pack/
    assets/sprites/buildings/interiors/library/
    assets/sprites/buildings/interiors/lab/
    assets/sprites/buildings/interiors/theatre/
    assets/sprites/buildings/interiors/college/
    assets/sprites/buildings/interiors/station/
    assets/sprites/characters/player.png
  </files>
  <action>
Download LPC assets from OpenGameArt.org and organize into the asset structure defined in 01-RESEARCH.md:

**Core Assets to Download:**

1. **LPC Base Assets** (https://opengameart.org/content/liberated-pixel-cup-lpc-base-assets-sprites-map-tiles)
   - Download the terrain tileset
   - Extract grass, path, and basic tiles to `assets/sprites/terrain/`

2. **LPC Animated Water** (https://opengameart.org/content/lpc-animated-water-and-waterfalls)
   - Download water tiles
   - Place in `assets/sprites/terrain/water/`

3. **LPC Castle Mega-Pack** (https://opengameart.org/content/lpc-castle-mega-pack)
   - Download Gothic architecture elements
   - Place in `assets/sprites/buildings/exteriors/castle-pack/`

4. **Building Interior Assets:**
   - LPC Wooden Furniture + LPC Shelves Rework -> `assets/sprites/buildings/interiors/library/`
   - LPC Alchemy + LPC Containers -> `assets/sprites/buildings/interiors/lab/`
   - LPC Tavern -> `assets/sprites/buildings/interiors/theatre/`
   - LPC House Interior -> `assets/sprites/buildings/interiors/college/`
   - LPC Simple Modern Furniture -> `assets/sprites/buildings/interiors/station/`

5. **Player Character:**
   - Use Universal LPC Character Generator (https://liberatedpixelcup.github.io/Universal-LPC-Spritesheet-Character-Generator/)
   - Create character with: blonde hair, academic appearance (shirt/sweater if available, or closest option)
   - Export sprite sheet to `assets/sprites/characters/player.png`
   - IMPORTANT: Export the credits list from the generator - save it for attribution

Use curl or wget to download. For the character generator, you may need to provide specific instructions for the user if it requires browser interaction, but first check if there's an API or CLI option.

If any asset download fails, note it but continue with others. Per CONTEXT.md: if assets aren't available, skip them.
  </action>
  <verify>
    - `ls assets/sprites/terrain/` shows grass and path tiles
    - `ls assets/sprites/terrain/water/` shows water animation tiles
    - `ls assets/sprites/buildings/exteriors/castle-pack/` shows Gothic elements
    - Each interior folder has at least some furniture assets
    - `assets/sprites/characters/player.png` exists
  </verify>
  <done>
    - Terrain tiles (grass, paths, water) downloaded
    - Gothic architecture tiles for Cambridge feel
    - At least 3 of 5 building interior sets have assets
    - Player character sprite sheet created
  </done>
</task>

<task type="auto">
  <name>Task 3: Create Attribution Files</name>
  <files>
    assets/ATTRIBUTION.md
    assets/CREDITS.txt
  </files>
  <action>
Create two attribution files based on the assets downloaded in Task 2:

**assets/CREDITS.txt** (OpenGameArt format):
```
----------------------------------------
Title: [Asset Title]
Author: [Author Name]
URL: [OpenGameArt URL]
License(s): * CC-BY-SA 3.0 ( https://creativecommons.org/licenses/by-sa/3.0/ )
Copyright/Attribution Notice: [If provided]
File(s): [List of files used]
----------------------------------------
```

Include entries for ALL assets downloaded:
- LPC Base Assets
- LPC Animated Water
- LPC Castle Mega-Pack
- Each furniture pack used
- Character generator contributors (from exported credits)

**assets/ATTRIBUTION.md** (human-readable):
```markdown
# Asset Attribution

This project uses assets from the Liberated Pixel Cup (LPC) community.
All assets are licensed under CC-BY-SA 3.0 unless otherwise noted.

## Character Sprites
Generated using [Universal LPC Spritesheet Character Generator](URL)
Contributors: [list from generator export]
License: CC-BY-SA 3.0

## Terrain and Buildings
[For each asset pack...]
```

Reference the attribution patterns from 01-RESEARCH.md.
Ensure EVERY downloaded asset has a corresponding entry.
  </action>
  <verify>
    - `assets/CREDITS.txt` exists and follows OpenGameArt format
    - `assets/ATTRIBUTION.md` exists and is readable markdown
    - Both files reference all downloaded asset packs
    - License URLs are correct (CC-BY-SA 3.0)
  </verify>
  <done>
    - CREDITS.txt lists all assets in standard format
    - ATTRIBUTION.md provides human-readable credits
    - All licenses verified as CC0 or CC-BY-SA
  </done>
</task>

</tasks>

<verification>
Phase 1 Plan 01 verification:

1. Dev environment:
   - `npm run dev` starts successfully
   - `npm run build` completes without errors
   - Canvas renders in browser

2. Assets:
   - Asset directories created per structure in RESEARCH.md
   - At minimum: terrain tiles, some building tiles, player sprite

3. Attribution:
   - CREDITS.txt follows OpenGameArt format
   - ATTRIBUTION.md is human-readable
   - All downloaded assets have attribution entries
</verification>

<success_criteria>
- Vite dev server runs locally with hot reload
- TypeScript compilation works
- LPC sprite assets downloaded and organized
- Player avatar sprite created (blonde hair, academic)
- Attribution files complete and accurate
- All assets verified as CC0 or CC-BY-SA licensed
</success_criteria>

<output>
After completion, create `.planning/phases/01-foundation-asset-selection/01-01-SUMMARY.md`
</output>
